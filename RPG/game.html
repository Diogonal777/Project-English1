<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—É—Ç—å –°–∞–º—É—Ä–∞—è - –ò–≥—Ä–∞</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/animations.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body class="game-screen">
    <!-- –ü–∞–Ω–µ–ª—å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫ -->
    <div class="stats-panel">
        <div class="stat-bar">
            <label>‚öîÔ∏è –ß–µ—Å—Ç—å</label>
            <div class="bar">
                <div class="fill honor-fill" id="honor-bar" style="width: 50%"></div>
            </div>
            <span class="stat-value" id="honor-value">50</span>
        </div>
        <div class="stat-bar">
            <label>üìö –ú—É–¥—Ä–æ—Å—Ç—å</label>
            <div class="bar">
                <div class="fill wisdom-fill" id="wisdom-bar" style="width: 50%"></div>
            </div>
            <span class="stat-value" id="wisdom-value">50</span>
        </div>
        <div class="stat-bar">
            <label>üí™ –°–∏–ª–∞</label>
            <div class="bar">
                <div class="fill strength-fill" id="strength-bar" style="width: 50%"></div>
            </div>
            <span class="stat-value" id="strength-value">50</span>
        </div>
        <div class="stat-bar">
            <label>üé≠ –•–∞—Ä–∏–∑–º–∞</label>
            <div class="bar">
                <div class="fill charm-fill" id="charm-bar" style="width: 50%"></div>
            </div>
            <span class="stat-value" id="charm-value">50</span>
        </div>
        <div class="karma-display">
            <span>–ö–∞—Ä–º–∞: </span>
            <span id="karma-value" class="karma-value">0</span>
        </div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∏–≥—Ä–æ–≤–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="game-container">
        <!-- –§–æ–Ω —Å—Ü–µ–Ω—ã -->
        <div class="scene-background" id="scene-background"></div>
        
        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç —Å—Ü–µ–Ω—ã -->
        <div class="scene-content">
            <div class="dialogue-container">
                <div class="character-name" id="character-name">–†–∞—Å—Å–∫–∞–∑—á–∏–∫</div>
                <div class="dialogue-text" id="dialogue-text">
                    –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏...
                </div>
            </div>
            
            <!-- –í—ã–±–æ—Ä –¥–µ–π—Å—Ç–≤–∏–π -->
            <div class="choices-container" id="choices-container">
                <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –±—É–¥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∑–¥–µ—Å—å -->
            </div>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è -->
    <div class="control-panel">
        <button id="save-game" class="control-btn" title="–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É (Ctrl+S)">üíæ</button>
        <button id="load-game" class="control-btn" title="–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É">üìÅ</button>
        <button id="history-btn" class="control-btn" title="–ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞">üìä</button>
        <button id="settings-btn" class="control-btn" title="–ù–∞—Å—Ç—Ä–æ–π–∫–∏">‚öôÔ∏è</button>
        <button id="main-menu" class="control-btn" title="–í –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é">üè†</button>
        <button id="toggle-stats" class="control-btn" title="–°–∫—Ä—ã—Ç—å/–ø–æ–∫–∞–∑–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É">üìà</button>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
    <div class="modal hidden" id="save-modal">
        <div class="modal-content">
            <h3>üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–≥—Ä—É</h3>
            <div class="save-slots-modal">
                <div class="save-slot-modal" data-slot="1">
                    <span class="slot-title">–°–ª–æ—Ç 1</span>
                    <span class="slot-info" id="slot-info-1">–ü—É—Å—Ç–æ</span>
                </div>
                <div class="save-slot-modal" data-slot="2">
                    <span class="slot-title">–°–ª–æ—Ç 2</span>
                    <span class="slot-info" id="slot-info-2">–ü—É—Å—Ç–æ</span>
                </div>
                <div class="save-slot-modal" data-slot="3">
                    <span class="slot-title">–°–ª–æ—Ç 3</span>
                    <span class="slot-info" id="slot-info-3">–ü—É—Å—Ç–æ</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="confirm-save" class="menu-btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="cancel-save" class="menu-btn tertiary">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div class="modal hidden" id="load-modal">
        <div class="modal-content">
            <h3>üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–≥—Ä—É</h3>
            <div class="save-slots-modal">
                <div class="save-slot-modal" data-slot="1">
                    <span class="slot-title">–°–ª–æ—Ç 1</span>
                    <span class="slot-info">–ü—É—Å—Ç–æ</span>
                </div>
                <div class="save-slot-modal" data-slot="2">
                    <span class="slot-title">–°–ª–æ—Ç 2</span>
                    <span class="slot-info">–ü—É—Å—Ç–æ</span>
                </div>
                <div class="save-slot-modal" data-slot="3">
                    <span class="slot-title">–°–ª–æ—Ç 3</span>
                    <span class="slot-info">–ü—É—Å—Ç–æ</span>
                </div>
            </div>
            <div class="modal-buttons">
                <button id="confirm-load" class="menu-btn primary">–ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                <button id="delete-save" class="menu-btn danger">–£–¥–∞–ª–∏—Ç—å</button>
                <button id="cancel-load" class="menu-btn tertiary">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏—Å—Ç–æ—Ä–∏–∏ -->
    <div class="modal hidden" id="history-modal">
        <div class="modal-content large-modal">
            <h3>üìä –ò—Å—Ç–æ—Ä–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
            <div class="history-stats">
                <div class="stat-item">
                    <span class="stat-label">–ü–æ—Å–µ—â–µ–Ω–æ —Å—Ü–µ–Ω:</span>
                    <span class="stat-value" id="visited-scenes-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–ü—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–π:</span>
                    <span class="stat-value" id="choices-made-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–û—Ç–∫—Ä—ã—Ç–æ –∫–æ–Ω—Ü–æ–≤–æ–∫:</span>
                    <span class="stat-value" id="endings-unlocked-count">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">–í—Ä–µ–º—è –∏–≥—Ä—ã:</span>
                    <span class="stat-value" id="play-time">0 –º–∏–Ω—É—Ç</span>
                </div>
            </div>
            <div class="recent-history">
                <h4>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è</h4>
                <div id="recent-actions-list" class="actions-list">
                    <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –∑–¥–µ—Å—å -->
                </div>
            </div>
            <div class="modal-buttons">
                <button id="export-history" class="menu-btn secondary">–≠–∫—Å–ø–æ—Ä—Ç</button>
                <button id="close-history" class="menu-btn tertiary">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
    <div class="modal hidden" id="settings-modal">
        <div class="modal-content large-modal">
            <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
            <form id="settings-form">
                <div class="setting-group">
                    <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å –º—É–∑—ã–∫–∏:</label>
                    <div class="range-container">
                        <input type="range" name="musicVolume" min="0" max="100" value="50">
                        <span class="range-value">50%</span>
                    </div>
                </div>
                <div class="setting-group">
                    <label>–ì—Ä–æ–º–∫–æ—Å—Ç—å –∑–≤—É–∫–æ–≤:</label>
                    <div class="range-container">
                        <input type="range" name="soundVolume" min="0" max="100" value="70">
                        <span class="range-value">70%</span>
                    </div>
                </div>
                <div class="setting-group">
                    <label>–°–∫–æ—Ä–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞:</label>
                    <div class="range-container">
                        <input type="range" name="textSpeed" min="0" max="100" value="50">
                        <span class="range-value">50%</span>
                    </div>
                </div>
                <div class="setting-group checkbox-group">
                    <label>
                        <input type="checkbox" name="autoPlay" checked>
                        –ê–≤—Ç–æ–ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏–µ
                    </label>
                </div>
                <div class="setting-group checkbox-group">
                    <label>
                        <input type="checkbox" name="skipViewed" checked>
                        –ü—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ —Å—Ü–µ–Ω—ã
                    </label>
                </div>
            </form>
            <div class="danger-zone">
                <h4>–û–ø–∞—Å–Ω–∞—è –∑–æ–Ω–∞</h4>
                <button id="clear-data" class="menu-btn danger">–û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ</button>
                <small>–£–¥–∞–ª–∏—Ç –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è, –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</small>
            </div>
            <div class="modal-buttons">
                <button id="save-settings" class="menu-btn primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button id="reset-settings" class="menu-btn secondary">–°–±—Ä–æ—Å–∏—Ç—å</button>
                <button id="close-settings" class="menu-btn tertiary">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <script src="js/story-data.js"></script>
    <script src="js/save-system.js"></script>
    <script src="js/history-system.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/game-engine.js"></script>
</body>
</html>